# 我们的小账本 - 多功能数据管理APP 设计说明

## 一、应用概述

「我们的小账本」是一款基于Android的多功能Excel数据管理应用，集成**记账**、**日记**和**会议纪要**三大功能模块。所有数据以Excel(.xlsx)格式存储，用户可在手机和电脑间自由切换编辑。粉色少女风设计，融入情人节情话元素。

## 二、页面结构（共10个主要页面）

| 序号 | 页面名称 | 所属模块 | 说明 |
|------|----------|----------|------|
| 1 | 启动页 | 通用 | 品牌展示 + 进入应用 |
| 2 | 首页 | 通用 | 数据概览 + 快捷操作 + 最近记录 |
| 3 | 记账列表 | 记账 | 按日期分组展示，月度收支汇总 |
| 4 | 添加记账 | 记账 | 分类选择 + 金额输入 + 备注 |
| 5 | 记账统计 | 记账 | 图表展示 + 分类排行 |
| 6 | 日记列表 | 日记 | 日记流，天气/心情标记 |
| 7 | 写日记 | 日记 | 富文本编辑 + 元数据标记 |
| 8 | 会议列表 | 会议纪要 | 按时间排列，标签分类 |
| 9 | 添加会议纪要 | 会议纪要 | 结构化表单录入 |
| 10 | 设置页 | 通用 | Excel导入导出 + 应用配置 |

## 三、导航架构

- **底部Tab导航**（5个）：首页 | 记账 | 日记 | 会议 | 设置
- 二级页面通过顶部返回按钮导航回列表页
- 各列表页右下角FAB浮动按钮用于快速新建

## 四、功能模块详细设计

### 4.1 记账模块

**记账列表页**
- 顶部月份切换器（左右箭头翻月）
- 月度汇总（收入/支出/结余）
- 按日期分组展示账单条目
- 每条记录显示：分类图标、分类名、备注、金额

**添加记账页**
- 支出/收入Tab切换
- 分类选择网格（5列）：餐饮、交通、购物、住房、通讯、娱乐、医疗、教育、服饰等
- 备注输入行
- 日期选择
- 金额显示区
- 数字键盘（含日期快捷键和确认键）

**记账统计页**
- 周/月/年Tab切换
- 柱状图展示趋势
- 分类排行列表（进度条 + 金额 + 百分比）

### 4.2 日记模块

**日记列表页**
- 搜索栏
- 日记卡片流：日期、天气、标题、预览内容、心情emoji

**写日记页**
- 元数据标签栏：日期、天气、心情、位置
- 标题输入
- 内容编辑区（多行文本）
- 底部工具栏：拍照、录音、定位、标签、文字格式

### 4.3 会议纪要模块

**会议列表页**
- 搜索栏
- 会议卡片：日期数字框 + 主题 + 时间地点 + 参会人 + 标签

**添加会议纪要页**
- 表单字段：
  - 会议主题（必填）
  - 会议时间（日期 + 开始/结束时间）
  - 会议地点
  - 参会人员（chip标签添加/删除）
  - 会议内容（多行文本）
  - 待办事项（多行文本）
  - 标签（chip标签）

### 4.4 设置模块

- **数据管理**：导出Excel、导入Excel、存储位置、自动备份
- **Excel设置**：各Sheet名称自定义
- **通用设置**：主题颜色、深色模式、提醒通知、密码锁定
- **关于**：版本信息、意见反馈

## 五、Excel存储结构

使用单个`.xlsx`文件，包含3个Sheet：

### Sheet1: 记账
| 列名 | 类型 | 说明 |
|------|------|------|
| 日期 | Date | 记账日期 |
| 类型 | String | 收入/支出 |
| 分类 | String | 餐饮/交通/购物等 |
| 金额 | Number | 金额数值 |
| 备注 | String | 备注信息 |

### Sheet2: 日记
| 列名 | 类型 | 说明 |
|------|------|------|
| 日期 | Date | 日记日期 |
| 标题 | String | 日记标题 |
| 内容 | String | 日记正文 |
| 天气 | String | 天气描述 |
| 心情 | String | 心情标记 |
| 位置 | String | 地理位置 |

### Sheet3: 会议纪要
| 列名 | 类型 | 说明 |
|------|------|------|
| 日期 | Date | 会议日期 |
| 主题 | String | 会议主题 |
| 开始时间 | String | 开始时间 |
| 结束时间 | String | 结束时间 |
| 地点 | String | 会议地点 |
| 参会人 | String | 逗号分隔 |
| 内容 | String | 会议内容 |
| 待办事项 | String | 待办内容 |
| 标签 | String | 逗号分隔 |

## 六、设计规范

| 项目 | 规范 |
|------|------|
| 主色调 | #E8729A / #FF85A2 / #F4A0C0（粉色少女系） |
| 收入色 | #66BB6A（绿色） |
| 支出色 | #E8729A（粉色） |
| 点缀色 | #D4A0E8（薰衣草紫） |
| 卡片圆角 | 12px |
| 按钮圆角 | 10px |
| 标签圆角 | 4px |
| 标题字号 | 17px |
| 正文字号 | 14px |
| 辅助字号 | 12px |
| 页面边距 | 16px |
| 卡片间距 | 10px |

## 七、技术方案

- **平台**：Android (Kotlin)
- **最低版本**：Android 7.0 (API 24)
- **Excel处理**：Apache POI 库
- **UI框架**：Material Design 3
- **架构模式**：MVVM (ViewModel + LiveData)
- **数据文件**：.xlsx 格式，单文件多Sheet存储
- **构建工具**：Gradle

## 八、浪漫特色功能

### 8.1 实时"在一起"计时器
- 首页Banner显示从在一起那天起的 **天:时:分:秒** 实时跳动
- 秒数每秒刷新，分隔符闪烁动画

### 8.2 智能时间问候语
根据当前时间自动切换问候语：
- 早上(6-11)："早安，我的小太阳 ☀️" + "新的一天，从想你开始"
- 中午(11-14)："中午好，记得吃饭哦 🍱" + "吃饱饱才有力气想我"
- 下午(14-18)："下午好，今天也想你了 💭" + "困了就眯一会，梦里有我"
- 晚上(18-22)："晚上好，今天辛苦了 🌙" + "回家的路上注意安全"
- 深夜(22-6)："夜深了，还没睡吗 🌟" + "快去睡吧，我在梦里等你"

### 8.3 启动页星星闪烁
启动页背景有20颗随机分布的星星，持续闪烁动画

### 8.4 隐藏情书页（第11页）
- 通过导航栏"💌 情书"按钮进入
- 包含完整的情书正文（信纸样式排版）
- 底部8条承诺卡片（每天说晚安、记得纪念日、存钱去旅行等）

## 九、隐藏彩蛋系统（共15个）

| 编号 | 位置 | 触发方式 | 效果 |
|------|------|----------|------|
| 1 | 启动页 Logo | 连点3次 | 爱心雨 + "给你写的" |
| 2 | 首页"365天"卡片 | 点击 | 随机8句情话弹窗 |
| 3 | 首页问候语Banner | 连点5次 | 爱心雨 + "被你发现了" |
| 4 | 记账 ¥520金额 | 点击 | "520=我爱你" |
| 5 | 设置页版本信息 | 连点3次 | 爱心雨 + 隐藏告白信 |
| 6 | 日记 心情Emoji | 点击 | emoji变换 + 甜言蜜语 |
| 7 | 会议列表"14"号 | 点击 | 情人节彩蛋 |
| 8 | 深色模式开关 | 点击 | "你就是我的光" |
| 9 | 日记搜索框 | 输入"爱/喜欢/想你" | 对应情话弹窗 |
| 10 | 写日记标题 | 连点3次 | "写给你的日记" |
| 11 | "开始使用"按钮 | 长按1.5秒 | 💍 "余生请多指教" |
| 12 | 记账 ¥99鲜花 | 点击 | "99=长长久久" |
| 13 | 记账 ¥8500工资 | 点击 | "我的钱就是你的钱" |
| 14 | 设置页密码锁定 | 点击 | 🔐 "密码是0214" |
| 15 | 启动页 | 打开2秒后 | 浮现提示"试试点爱心" |

**特效动画**：爱心雨飘落、迷你爱心爆发、弹窗弹跳缩放、emoji跳动、星星闪烁、计时器秒数跳动

## 十、原型预览

交互式原型文件位于 `design/prototype.html`，用浏览器打开即可预览全部11个页面设计、实时计时器和隐藏彩蛋。
